@using ES.Models;
@using ES.Services;
@using ES.Models.ViewModels;
@model Apply_001010ViewModel

@{
    Layout = "~/Views/Shared/_MainLayout.cshtml";
    SessionModel sm = SessionModel.Get();
}

<div class="container">
    <div class="col-sm-12">
        <!-- bread  -->
        <div class="breadlink">
            <i class="fas fa-home"></i><a href="@(Url.Action("Index", "Login"))">首頁</a> ／ <a href="@(Url.Action("Index", "Service"))">申辦服務</a> ／ <a href="#">醫事人員或公共衛生師證書影本申請書</a>
        </div>
        <div class="clearfix"></div>
        @if (Model == null || Model.ErrorMessage == null)
        {
            <div class="step_map">
                <ul>
                    <li id="Apply_Tab">填寫申報表件並上傳檔案</li>
                    <li id="PreView_Tab">預覽申辦表件</li>
                    <li id="Pay_Tab">繳費</li>
                    <li class="active">完成申報</li>
                </ul>
            </div>
        }
        else if (Model.ErrorCode != "0000" && Model.ErrorCode != "00")
        {
            <div class="step_map">
                <ul>
                    <li id="Apply_Tab">填寫申報表件並上傳檔案</li>
                    <li id="PreView_Tab">預覽申辦表件</li>
                    <li id="Pay_Tab">繳費</li>
                    <li class="active">繳費狀態</li>
                </ul>
            </div>
        }

        <!--form-->
        <h1 class="form-title  title-bg-y">訊息</h1>
        <div class="form-set">
            <div class="form-group">
                <div class="col-sm-12" style="margin-top:10px">
                    @sm.UserInfo.Member.NAME，您好:<br />

                    @if (Model == null)
                    {
                        @Html.Raw("您醫事人員或公共衛生師證書影本申請書，已完成系統資料填答及上傳流程，繳納規費和收到匯票證明與原領證書後，將盡速辦理您的申辦案件，謝謝。</br>");
                    }
                    else
                    {
                        if (Model.ErrorCode != "0000" && Model.ErrorCode != "00")
                        {
                            @Html.Raw("您醫事人員或公共衛生師證書影本申請書，繳費失敗。</br>錯誤訊息:" + Model.ErrorMessage + "、" + Model.TempMessage);
                        }
                        else
                        {
                            switch (Model.STATUS.TONotNullString())
                            {
                                case "A":
                                    @Html.Raw("您醫事人員或公共衛生師證書影本申請書，已完成資料補件共" + Model.AppDocCount.TONotNullString() + "件，將盡速辦理您的申辦案件，謝謝。");
                                    break;
                                default:
                                    @Html.Raw("您醫事人員或公共衛生師證書影本申請書，已完成系統資料填答及上傳流程，繳納規費和收到匯票證明與原領證書後，將盡速辦理您的申辦案件，謝謝。</br>");
                                    break;

                            }
                        }
                    }

                    <div style="float:right">衛生福利部</div>
                </div>
            </div>
        </div>

    </div>

    <div class="clearfix"></div>

</div>   