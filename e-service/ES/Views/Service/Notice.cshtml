@model ES.Models.ServiceNoticeModel

@{
    Layout = "~/Views/Shared/_MainLayout.cshtml";
    if (Model == null) { return; }
    ViewBag.Title = Model.Name;
    Model.PayUnit = (Model.PayUnit ?? "");
    Model.ServiceId = (Model.ServiceId ?? "");
    string s_ApplyFee = string.Format("{0} 元", Model.ApplyFee);
    //ViewBag.Script = @" ";
}
<script>
    $('#lihead_Service').addClass("navMark-orange");
</script>
<div class="container-fluid">
    <!--bread -->
    <div class="col-sm-12">
        <div class="breadlink"><i class="fas fa-home"></i><a href="@(Url.Action("Index", "Login"))">首頁</a> > <a href="@(Url.Action("Index", "Service"))">表件下載</a> > <a href="#">@Model.Name</a></div>
    </div>
    <div class="clearfix"></div>
    <!--form-->
    <h3 class="note-title note-titlebar-blue">@Model.Name</h3>
    <div class="up-pager">
        &nbsp;
        @if (Model.FileMark)
            {
            <button type="button" class="btn btn-save" onclick="doFile('@Url.Action("File", "Service", new { id = Model.ServiceId })');">書表下載</button>
            @Html.Raw("")
        }
        @if (Model.HelpMark)
        {
            <button type="button" class="btn btn-save" onclick="doFile('@Url.Action("Help", "Service", new { id = Model.ServiceId })');">操作輔助說明</button>
        }
        @if (Model.NormMark)
        {
            <button type="button" class="btn btn-save" onclick="doFile('@Url.Action("Norm", "Service", new { id = Model.ServiceId })');">相關規範</button>
        }
        @if (Model.OnlineNMark)
        {
            if (Model.ServiceId.StartsWith("007"))
            {
                <button type="button" class="btn btn-save" onclick="document.location.href='@Url.Action("Apply", "Form", new { id = Model.ServiceId })';">線上信用卡捐款</button>
            }
            else if (Model.ServiceId == "005001" || Model.ServiceId == "005002" || Model.ServiceId == "005003" || Model.ServiceId == "005004" || Model.ServiceId == "005005")
            {
                @*<button type="button" class="btn btn-save" onclick="document.location.href='@Url.Action("Lead", "Form", new { id = Model.ServiceId })';">線上申辦</button>*@
                <button type="button" class="btn btn-save" onclick="doFile('@Url.Action("APPLY","APPLY_" + Model.ServiceId)');">線上申辦</button>
            }
            else
            {
                @*<button type="button" class="btn btn-save" onclick="document.location.href='@Url.Action("Apply", "Form", new { id = Model.ServiceId })';">線上申辦</button>*@
                <button type="button" class="btn btn-save" onclick="doFile('@Url.Action("APPLY","APPLY_" + Model.ServiceId)');">線上申辦</button>
            }
        }
    </div>
    <div class="form-set form-gray">
        @using (Html.BeginForm("Index", "Service", FormMethod.Post, htmlAttributes: new { @class = "form-horizontal", @id = "main_form" }))
        {
            if (!String.IsNullOrEmpty(Model.CAType) && Model.OnlineNMark)
            {
                <div class="form-group">
                    <label class="step-label col-sm-2" for="">@Html.DisplayNameFor(m => m.CAType)</label>
                    <div class="col-sm-10">
                        <p class="form-control-static">
                            本案件可利用下列之一的方式登入申辦：<br />
                            <span style="color: #DC143C;">
                                @if (Model.CAType.IndexOf("MEMBER") >= 0)
                                {
                                    //<a href="#">會員登入</a>
                                    @Html.Raw("會員登入")
                                }
                                @if (Model.CAType.IndexOf("MOICA") > 0)
                                {
                                    @Html.Raw("、")
                                }
                                @if (Model.CAType.IndexOf("MOICA") >= 0)
                                {
                                    @Html.Raw("自然人憑證")
                                }
                                @if (Model.CAType.IndexOf("MOEACA") > 0)
                                {
                                    @Html.Raw("、")
                                }
                                @if (Model.CAType.IndexOf("MOEACA") >= 0)
                                {
                                    @Html.Raw("工商憑證")
                                }
                                @if (Model.CAType.IndexOf("HCA0") > 0)
                                {
                                    @Html.Raw("、")
                                }
                                @if (Model.CAType.IndexOf("HCA0") >= 0)
                                {
                                    @Html.Raw("醫事憑證（機構）")
                                }
                                @if (Model.CAType.IndexOf("HCA1") > 0)
                                {
                                    @Html.Raw("、")
                                }
                                @if (Model.CAType.IndexOf("HCA1") >= 0)
                                {
                                    @Html.Raw("醫事憑證（人員）")
                                }
                            </span>
                        </p>
                    </div>
                </div>
            }
            if (Model.PayUnit.Equals("A") && Model.ApplyFee > 0)
            {
                <div class="form-group">
                    <label class="step-label col-sm-2" for="">@Html.DisplayNameFor(m => m.ApplyFee)</label>
                    <div class="col-sm-10">
                        <p class="form-control-static">@s_ApplyFee</p>
                    </div>
                </div>
            }
            <div class="form-group">
                <label class="step-label col-sm-2" for="">@Html.DisplayNameFor(m => m.UnitName)</label>
                <div class="col-sm-10">
                    <p class="form-control-static">
                        @Html.Raw("衛生福利部")
                        @if (Model.ServiceId.Equals("001038"))
                        {@Html.Raw("國民健康署")}
                        else
                        {@Model.UnitName}
                        @if (!String.IsNullOrEmpty(Model.UnitAddress))
                        {
                            <span>(@Model.UnitAddress)</span>
                        }
                    </p>
                </div>
            </div>
            if (Model.ProDeadline > 0)
            {
                <div class="form-group">
                    <label class="step-label col-sm-2" for="">@Html.DisplayNameFor(m => m.ProDeadline)</label>
                    <div class="col-sm-10">
                        <p class="form-control-static">
                            @Model.ProDeadline 工作天(不含補件時間)
                            @if (Model.ServiceId.StartsWith("001") && !Model.ServiceId.Equals("001034") && !Model.ServiceId.Equals("001035") && !Model.ServiceId.Equals("001038"))
                            {
                                <br /><span>如遇連續假日3日以上，得以延長3日</span>
                            }
                        </p>
                    </div>
                </div>
            }
            if (!String.IsNullOrEmpty(Model.Title1) && !String.IsNullOrEmpty(Model.Content1))
            {
                <div class="form-group">
                    <label class="step-label col-sm-2" for="">@Model.Title1</label>
                    <div class="col-sm-10">
                        <p class="form-control-static">
                            @Html.Raw(Model.Content1.Replace("\n", "<br/>").Replace(Environment.NewLine, "<br/>"))
                        </p>
                    </div>
                </div>
            }
            if (!String.IsNullOrEmpty(Model.Title2) && !String.IsNullOrEmpty(Model.Content2))
            {
                <div class="form-group">
                    <label class="step-label col-sm-2" for="">@Model.Title2</label>
                    <div class="col-sm-10">
                        <p class="form-control-static">
                            @Html.Raw(Model.Content2.Replace("\n", "<br/>").Replace(Environment.NewLine, "<br/>"))
                        </p>
                    </div>
                </div>
            }
            if (!String.IsNullOrEmpty(Model.Title3) && !String.IsNullOrEmpty(Model.Content3))
            {
                <div class="form-group">
                    <label class="step-label col-sm-2" for="">@Model.Title3</label>
                    <div class="col-sm-10">
                        <p class="form-control-static">
                            @Html.Raw(Model.Content3.Replace("\n", "<br/>").Replace(Environment.NewLine, "<br/>"))
                        </p>
                    </div>
                </div>
            }
            if (!String.IsNullOrEmpty(Model.Title4) && !String.IsNullOrEmpty(Model.Content4))
            {
                <div class="form-group">
                    <label class="step-label col-sm-2" for="">@Model.Title4</label>
                    <div class="col-sm-10">
                        <p class="form-control-static">
                            @Html.Raw(Model.Content4.Replace("\n", "<br/>").Replace(Environment.NewLine, "<br/>"))
                        </p>
                    </div>
                </div>
            }
            if (!String.IsNullOrEmpty(Model.Title5) && !String.IsNullOrEmpty(Model.Content5))
            {
                <div class="form-group">
                    <label class="step-label col-sm-2" for="">@Model.Title5</label>
                    <div class="col-sm-10">
                        <p class="form-control-static">
                            @Html.Raw(Model.Content5.Replace("\n", "<br/>").Replace(Environment.NewLine, "<br/>"))
                        </p>
                    </div>
                </div>
            }
            if (!String.IsNullOrEmpty(Model.Title6) && !String.IsNullOrEmpty(Model.Content6))
            {
                <div class="form-group">
                    <label class="step-label col-sm-2" for="">@Model.Title6</label>
                    <div class="col-sm-10">
                        <p class="form-control-static">
                            @Html.Raw(Model.Content6.Replace("\n", "<br/>").Replace(Environment.NewLine, "<br/>"))
                        </p>
                    </div>
                </div>
            }
            <div class="btn-bar text-center">
                <button type="button" class="btn btn-save" onclick="window.history.go(-1);">返回</button>
            </div>
        }
    </div>

    <div class="clearfix"></div>

</div>

<script type="text/javascript">
    // 補件
    function doFile(url) {
        //var data = { "id": id }
        //location.href = '/Apply_' + SRV_ID + '/AppDoc?' + $.param(data);
        location.href = url;
        @*var url = '@(Url.Action("File", "Service"))';
                    goBackPage(url, data, 2, 'GET')*@
    }
    @*<a class='btn btn-download' title='書表下載' href='" + @Url.Action("File", "Service", new { id = @ViewBag.List[i].ServiceId }) + "'>*@

</script>
