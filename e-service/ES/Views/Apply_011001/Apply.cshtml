@using ES.Models;
@using ES.Models.ViewModels;
@model Apply_011001FormModel
@{
    Layout = null;
    ShareCodeListModel sc = new ShareCodeListModel();
}

<div class="form-set">
    @Html.FrontControlForTurbo(Model, Model.IsNew)

    @if (Model.IsNew)
    {
        <div class="btn-bar text-center">
            <button type="button" class="btn btn-save" onclick="doPreView()">存檔並預覽</button>
            <button type="button" class="btn btn-clear" onclick="doReset()">清除資料</button>
        </div>
    }
    else
    {
        <div class="form-set">
            <div class="btn-bar text-center">
                <button type="button" class="btn btn-save" onclick="doSave()">確認送出</button>
                <button type="button" class="btn btn-clear" onclick="doBack()">返回修改</button>
            </div>
        </div>
    }
</div>


<script>
    $(document).ready(function () {
        document.getElementById("FID_MERGEYN").innerHTML += '<div class="col-sm-2"></div><div class="col-sm-10">若您是將檔案掃描後，於同一份文件內上傳，請選擇佐證文件採合併檔案"是"，檔案分開上傳請選擇"否"</div>'
    })
    // 轉至瀏覽
    function doPreView() {
        $("#IsMode").val("1"); // 0:新增模式 / 1:瀏覽模式
        blockUI();
        var form = $("form[id=main_form]");
        form.attr('action', '@Url.Action("Apply")').submit();
    } 
    // 送出
    function doSave() {
        blockUI();
        var form = $("form[id=main_form]");
        form.attr('action', '@Url.Action("Save")').submit();
    }

    // 返回
    function doBack() {
        blockUI();
        $("#IsMode").val("0"); // 0:新增模式 / 1:瀏覽模式
        var form = $("form[id=main_form]");
        form.attr('action', '@Url.Action("Apply")').submit();
    }

    function doMode() {
        var formTab = $("#form_tab");
        var formTab1 = $("#form_tab1");
        if ($("#IsMode").val() == "1") {
            formTab.removeClass('active');
            formTab1.attr('class', 'active');
        }
        else {
            formTab.attr('class', 'active');
            formTab1.removeClass('active');
        }
    }

    $(document).ready(function () {
        doMode();
    })

    // 清除資料
    function doReset() {
        $('#ACC_NO').val('');
        $('#ACC_NAM').val('');
        $('#ACC_TEL_Zip').val('');
        $('#ACC_TEL_Phone').val('');
        $('#ACC_TEL_Num').val('');
        $('#ACC_ADDR_CODE').val('');
        $('#ACC_ADDR_CODE_ADDR').val('');
        $('#ACC_ADDR_CODE_DETAIL').val('');
        $('#ADM_NAM').val('');
        $('#ADM_MOBILE').val('');
        $('#ADM_MAIL_1').val('');
        $('#ADM_MAIL_2').val('');
        $('#ADM_MAIL_3').val('');
        $('#ACC_SDATE_AD_TW').val('');
        $('#ACC_NUM').val('');
    }

</script>
