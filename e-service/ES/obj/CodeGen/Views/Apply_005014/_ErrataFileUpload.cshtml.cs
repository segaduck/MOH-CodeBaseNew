#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     這段程式碼是由工具產生的。
//     執行階段版本:4.0.30319.42000
//
//     對這個檔案所做的變更可能會造成錯誤的行為，而且如果重新產生程式碼，
//     變更將會遺失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ES.Views.Apply_005014
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Optimization;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    using ES.Helpers;
    
    #line 2 "..\..\Views\Apply_005014\_ErrataFileUpload.cshtml"
    using ES.Utils;
    
    #line default
    #line hidden
    using JQueryUIHelpers;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Views/Apply_005014/_ErrataFileUpload.cshtml")]
    public partial class ErrataFileUpload : System.Web.Mvc.WebViewPage<ES.Models.ViewModels.Apply_005014ViewModel>
    {

#line 10 "..\..\Views\Apply_005014\_ErrataFileUpload.cshtml"
public System.Web.WebPages.HelperResult RenderFileList2()
{
#line default
#line hidden
return new System.Web.WebPages.HelperResult(__razor_helper_writer => {

#line 11 "..\..\Views\Apply_005014\_ErrataFileUpload.cshtml"
 


#line default
#line hidden
WriteLiteralTo(__razor_helper_writer, "    <div");

WriteLiteralTo(__razor_helper_writer, " id=\"_erratafileupload\"");

WriteLiteralTo(__razor_helper_writer, ">\r\n        <h2");

WriteLiteralTo(__razor_helper_writer, " class=\"second-title\"");

WriteLiteralTo(__razor_helper_writer, ">佐證文件檔案上傳<span");

WriteLiteralTo(__razor_helper_writer, " style=\"color:red\"");

WriteLiteralTo(__razor_helper_writer, ">(單一檔案上限為5MB,僅准上傳PDF、JPG、BMP、PNG、TIF等檔案格式)</span></h2>\r\n         <div");

WriteLiteralTo(__razor_helper_writer, " class=\"form-group\"");

WriteLiteralTo(__razor_helper_writer, ">\r\n            <div");

WriteLiteralTo(__razor_helper_writer, " class=\"col-sm-12\"");

WriteLiteralTo(__razor_helper_writer, " for=\"\"");

WriteLiteralTo(__razor_helper_writer, ">\r\n                以下6項佐證文件，<span");

WriteLiteralTo(__razor_helper_writer, " style=\"color:red;\"");

WriteLiteralTo(__razor_helper_writer, ">*</span>號為必上傳文件。<br />\r\n                <span");

WriteLiteralTo(__razor_helper_writer, " style=\"color:red;\"");

WriteLiteralTo(__razor_helper_writer, ">*</span>1.申請書(需蓋公司大小章)<br />\r\n                <span");

WriteLiteralTo(__razor_helper_writer, " style=\"color:red;\"");

WriteLiteralTo(__razor_helper_writer, ">*</span>2.商業登記證明文件影本或其他證明文件<br />\r\n                <span");

WriteLiteralTo(__razor_helper_writer, " style=\"color:red;\"");

WriteLiteralTo(__razor_helper_writer, ">*</span>3.切結書(須註明產品用途及蓋公司大小章)<br />\r\n                4.產品資訊說明(含產品使用方式及最後處理方式)<br" +
" />\r\n                5.進口報單影本<br />\r\n                6.其他證明文件\r\n            </div" +
">\r\n        </div>\r\n        <div");

WriteLiteralTo(__razor_helper_writer, " class=\"form-group\"");

WriteLiteralTo(__razor_helper_writer, ">\r\n            <label");

WriteLiteralTo(__razor_helper_writer, " class=\"step-label col-sm-2\"");

WriteLiteralTo(__razor_helper_writer, " for=\"\"");

WriteLiteralTo(__razor_helper_writer, ">佐證文件採合併檔案</label>\r\n            <div");

WriteLiteralTo(__razor_helper_writer, " class=\"col-sm-10\"");

WriteLiteralTo(__razor_helper_writer, ">\r\n                <label");

WriteLiteralTo(__razor_helper_writer, " class=\"radio-inline \"");

WriteLiteralTo(__razor_helper_writer, ">\r\n                    ");

WriteLiteralTo(__razor_helper_writer, "\r\n");

WriteLiteralTo(__razor_helper_writer, "                    ");


#line 30 "..\..\Views\Apply_005014\_ErrataFileUpload.cshtml"
WriteTo(__razor_helper_writer, Html.RadioButtonFor(x => x.Detail.IS_MERGE_FILE, "Y"));


#line default
#line hidden
WriteLiteralTo(__razor_helper_writer, " 是\r\n                </label>\r\n                <label");

WriteLiteralTo(__razor_helper_writer, " class=\"radio-inline \"");

WriteLiteralTo(__razor_helper_writer, ">\r\n                    ");

WriteLiteralTo(__razor_helper_writer, "\r\n");

WriteLiteralTo(__razor_helper_writer, "                    ");


#line 34 "..\..\Views\Apply_005014\_ErrataFileUpload.cshtml"
WriteTo(__razor_helper_writer, Html.RadioButtonFor(x => x.Detail.IS_MERGE_FILE, "N"));


#line default
#line hidden
WriteLiteralTo(__razor_helper_writer, " 否\r\n                </label>\r\n            </div>\r\n        </div>\r\n");


#line 38 "..\..\Views\Apply_005014\_ErrataFileUpload.cshtml"
        

#line default
#line hidden

#line 38 "..\..\Views\Apply_005014\_ErrataFileUpload.cshtml"
         if (Model.FileList != null && Model.FileList.Count > 0)
        {
            for (int i = 0; i < Model.FileList.Count; i++)
            {
                var item = Model.FileList[i];


#line default
#line hidden
WriteLiteralTo(__razor_helper_writer, "                <div");

WriteLiteralTo(__razor_helper_writer, " class=\"form-group\"");

WriteLiteralTo(__razor_helper_writer, ">\r\n                    <label");

WriteLiteralTo(__razor_helper_writer, " class=\"step-label col-sm-2\"");

WriteLiteralTo(__razor_helper_writer, " for=\"\"");

WriteLiteralTo(__razor_helper_writer, ">其他證明文件 ");


#line 44 "..\..\Views\Apply_005014\_ErrataFileUpload.cshtml"
                                        WriteTo(__razor_helper_writer, i + 1);


#line default
#line hidden
WriteLiteralTo(__razor_helper_writer, "</label>\r\n                    <div");

WriteLiteralTo(__razor_helper_writer, " class=\"col-sm-10 form-control-static\"");

WriteLiteralTo(__razor_helper_writer, ">\r\n");


#line 46 "..\..\Views\Apply_005014\_ErrataFileUpload.cshtml"
                        

#line default
#line hidden

#line 46 "..\..\Views\Apply_005014\_ErrataFileUpload.cshtml"
                         if (string.IsNullOrEmpty(Model.FileList[i].FILE_E))
                        {
                            string base64file = DataUtils.ToBase64String(item.FILE_NAME);
                            string url = Url.Action("DownloadFileFromPath", "File", new { area = "", filepath = base64file });



#line default
#line hidden
WriteLiteralTo(__razor_helper_writer, "                            <input");

WriteLiteralTo(__razor_helper_writer, " type=\"hidden\"");

WriteAttributeTo(__razor_helper_writer, "name", Tuple.Create(" name=\"", 2238), Tuple.Create("\"", 2269)
, Tuple.Create(Tuple.Create("", 2245), Tuple.Create("FileList[", 2245), true)

#line 51 "..\..\Views\Apply_005014\_ErrataFileUpload.cshtml"
, Tuple.Create(Tuple.Create("", 2254), Tuple.Create<System.Object, System.Int32>(i

#line default
#line hidden
, 2254), false)
, Tuple.Create(Tuple.Create("", 2258), Tuple.Create("].FILE_NAME", 2258), true)
);

WriteLiteralTo(__razor_helper_writer, " class=\"form-control errata-input-disabled\"");

WriteLiteralTo(__razor_helper_writer, " />\r\n");

WriteLiteralTo(__razor_helper_writer, "                            <a");

WriteAttributeTo(__razor_helper_writer, "href", Tuple.Create(" href=\"", 2348), Tuple.Create("\"", 2359)

#line 52 "..\..\Views\Apply_005014\_ErrataFileUpload.cshtml"
, Tuple.Create(Tuple.Create("", 2355), Tuple.Create<System.Object, System.Int32>(url

#line default
#line hidden
, 2355), false)
);

WriteLiteralTo(__razor_helper_writer, " download>");


#line 52 "..\..\Views\Apply_005014\_ErrataFileUpload.cshtml"
                      WriteTo(__razor_helper_writer, item.FILE_NAME);


#line default
#line hidden
WriteLiteralTo(__razor_helper_writer, "</a>\r\n");


#line 53 "..\..\Views\Apply_005014\_ErrataFileUpload.cshtml"
                        }
                        else
                        {


#line default
#line hidden
WriteLiteralTo(__razor_helper_writer, "                            <input");

WriteLiteralTo(__razor_helper_writer, " type=\"file\"");

WriteAttributeTo(__razor_helper_writer, "name", Tuple.Create(" name=\"", 2521), Tuple.Create("\"", 2551)
, Tuple.Create(Tuple.Create("", 2528), Tuple.Create("FileList[", 2528), true)

#line 56 "..\..\Views\Apply_005014\_ErrataFileUpload.cshtml"
, Tuple.Create(Tuple.Create("", 2537), Tuple.Create<System.Object, System.Int32>(i

#line default
#line hidden
, 2537), false)
, Tuple.Create(Tuple.Create("", 2541), Tuple.Create("].PostFile", 2541), true)
);

WriteLiteralTo(__razor_helper_writer, " class=\"form-control errata-input\"");

WriteLiteralTo(__razor_helper_writer, " />\r\n");

WriteLiteralTo(__razor_helper_writer, "                            <input");

WriteLiteralTo(__razor_helper_writer, " type=\"text\"");

WriteAttributeTo(__razor_helper_writer, "name", Tuple.Create(" name=\"", 2637), Tuple.Create("\"", 2665)
, Tuple.Create(Tuple.Create("", 2644), Tuple.Create("FileList[", 2644), true)

#line 57 "..\..\Views\Apply_005014\_ErrataFileUpload.cshtml"
, Tuple.Create(Tuple.Create("", 2653), Tuple.Create<System.Object, System.Int32>(i

#line default
#line hidden
, 2653), false)
, Tuple.Create(Tuple.Create("", 2657), Tuple.Create("].FILE_E", 2657), true)
);

WriteAttributeTo(__razor_helper_writer, "value", Tuple.Create(" value=\"", 2666), Tuple.Create("\"", 2699)

#line 57 "..\..\Views\Apply_005014\_ErrataFileUpload.cshtml"
   , Tuple.Create(Tuple.Create("", 2674), Tuple.Create<System.Object, System.Int32>(Model.FileList[i].FILE_E

#line default
#line hidden
, 2674), false)
);

WriteLiteralTo(__razor_helper_writer, " class=\"form-control errata-msg\"");

WriteLiteralTo(__razor_helper_writer, " readonly />\r\n");


#line 58 "..\..\Views\Apply_005014\_ErrataFileUpload.cshtml"
                        }


#line default
#line hidden
WriteLiteralTo(__razor_helper_writer, "                    </div>\r\n                </div>\r\n");


#line 61 "..\..\Views\Apply_005014\_ErrataFileUpload.cshtml"
            }
        }


#line default
#line hidden
WriteLiteralTo(__razor_helper_writer, "    </div>\r\n");


#line 64 "..\..\Views\Apply_005014\_ErrataFileUpload.cshtml"


#line default
#line hidden
});

#line 64 "..\..\Views\Apply_005014\_ErrataFileUpload.cshtml"
}
#line default
#line hidden

#line 66 "..\..\Views\Apply_005014\_ErrataFileUpload.cshtml"
public System.Web.WebPages.HelperResult RenderFileList()
{
#line default
#line hidden
return new System.Web.WebPages.HelperResult(__razor_helper_writer => {

#line 67 "..\..\Views\Apply_005014\_ErrataFileUpload.cshtml"
 


#line default
#line hidden
WriteLiteralTo(__razor_helper_writer, "    <div");

WriteLiteralTo(__razor_helper_writer, " id=\"_erratafileupload\"");

WriteLiteralTo(__razor_helper_writer, ">\r\n        <h2");

WriteLiteralTo(__razor_helper_writer, " class=\"second-title\"");

WriteLiteralTo(__razor_helper_writer, ">佐證文件檔案上傳<button");

WriteLiteralTo(__razor_helper_writer, " type=\"button\"");

WriteLiteralTo(__razor_helper_writer, " class=\"btn btn-save\"");

WriteLiteralTo(__razor_helper_writer, " v-on:click=\"add()\"");

WriteLiteralTo(__razor_helper_writer, ">新增</button></h2>\r\n        <div");

WriteLiteralTo(__razor_helper_writer, " class=\"form-group\"");

WriteLiteralTo(__razor_helper_writer, ">\r\n            <label");

WriteLiteralTo(__razor_helper_writer, " class=\"step-label col-sm-2\"");

WriteLiteralTo(__razor_helper_writer, " for=\"\"");

WriteLiteralTo(__razor_helper_writer, ">佐證文件採合併檔案</label>\r\n            <div");

WriteLiteralTo(__razor_helper_writer, " class=\"col-sm-10\"");

WriteLiteralTo(__razor_helper_writer, ">\r\n                <label");

WriteLiteralTo(__razor_helper_writer, " class=\"radio-inline \"");

WriteLiteralTo(__razor_helper_writer, ">\r\n                    ");

WriteLiteralTo(__razor_helper_writer, "\r\n");

WriteLiteralTo(__razor_helper_writer, "                    ");


#line 75 "..\..\Views\Apply_005014\_ErrataFileUpload.cshtml"
WriteTo(__razor_helper_writer, Html.RadioButtonFor(x => x.Detail.IS_MERGE_FILE, "Y"));


#line default
#line hidden
WriteLiteralTo(__razor_helper_writer, " 是\r\n                </label>\r\n                <label");

WriteLiteralTo(__razor_helper_writer, " class=\"radio-inline \"");

WriteLiteralTo(__razor_helper_writer, ">\r\n                    ");

WriteLiteralTo(__razor_helper_writer, "\r\n");

WriteLiteralTo(__razor_helper_writer, "                    ");


#line 79 "..\..\Views\Apply_005014\_ErrataFileUpload.cshtml"
WriteTo(__razor_helper_writer, Html.RadioButtonFor(x => x.Detail.IS_MERGE_FILE, "N"));


#line default
#line hidden
WriteLiteralTo(__razor_helper_writer, " 否\r\n                </label>\r\n                <div> 若您是將檔案掃描後，於同一份文件內上傳，請選擇佐證文件採合" +
"併檔案\"是\"，檔案分開上傳請選擇\"否\" </div>\r\n            </div>\r\n        </div>\r\n\r\n        ");

WriteLiteralTo(__razor_helper_writer, "\r\n\r\n        <div");

WriteLiteralTo(__razor_helper_writer, " class=\"form-group\"");

WriteLiteralTo(__razor_helper_writer, " v-for=\"(item, index) in itemList\"");

WriteLiteralTo(__razor_helper_writer, ">\r\n            <label");

WriteLiteralTo(__razor_helper_writer, " class=\"step-label col-sm-2\"");

WriteLiteralTo(__razor_helper_writer, " for=\"\"");

WriteLiteralTo(__razor_helper_writer, ">其他證明文件 {{index + 1}}</label>\r\n            <div");

WriteLiteralTo(__razor_helper_writer, " class=\"col-sm-10 form-control-static\"");

WriteLiteralTo(__razor_helper_writer, ">\r\n                <div");

WriteLiteralTo(__razor_helper_writer, " class=\"form-inline\"");

WriteLiteralTo(__razor_helper_writer, ">\r\n                    ");

WriteLiteralTo(__razor_helper_writer, "\r\n                    <input");

WriteLiteralTo(__razor_helper_writer, " type=\"file\"");

WriteLiteralTo(__razor_helper_writer, " v-on:change=\"onLoadFile($event, item)\"");

WriteLiteralTo(__razor_helper_writer, " />\r\n                    <div");

WriteLiteralTo(__razor_helper_writer, " class=\"errata-msg\"");

WriteLiteralTo(__razor_helper_writer, " v-show=\"hasValue(item.FILE_E)\"");

WriteLiteralTo(__razor_helper_writer, ">{{item.FILE_E}}</div>\r\n                    ");

WriteLiteralTo(__razor_helper_writer, "\r\n                </div>\r\n            </div>\r\n            ");

WriteLiteralTo(__razor_helper_writer, "\r\n            ");

WriteLiteralTo(__razor_helper_writer, "\r\n        </div>\r\n        <input");

WriteLiteralTo(__razor_helper_writer, " type=\"hidden\"");

WriteLiteralTo(__razor_helper_writer, " name=\"FileListJson\"");

WriteLiteralTo(__razor_helper_writer, " v-bind:value=\"fileListJson\"");

WriteLiteralTo(__razor_helper_writer, " /> ");

WriteLiteralTo(__razor_helper_writer, "\r\n    </div>\r\n");


#line 111 "..\..\Views\Apply_005014\_ErrataFileUpload.cshtml"



#line default
#line hidden
WriteLiteralTo(__razor_helper_writer, @"    <script>
        var vm = new Vue({
            name: 'ErrataFileUpload',
            data: function () {
                return {
                    itemList: []
                }
            },
            computed: {
                fileListJson: function () {
                    return JSON.stringify(this.itemList);
                }
            },
            methods: {
                getFileList: function () {
                    var self = this;
                    $.ajax({
                        url: '");


#line 129 "..\..\Views\Apply_005014\_ErrataFileUpload.cshtml"
WriteTo(__razor_helper_writer, Url.Action("ApplyPost", "Apply_005014", new { id = "CaseFileList", APP_ID = Model.APP_ID }));


#line default
#line hidden
WriteLiteralTo(__razor_helper_writer, @"',
                        method: 'POST',
                    }).done(function (resp) {
                        this.itemList = resp;
                    });
                },
                add: function () {
                    var id = new Date().getTime().toString(); ");

WriteLiteralTo(__razor_helper_writer, @"
                    var item = {
                        FILENAME: '',
                        Base64: '',
                        id: id
                    }
                    this.itemList.push(item);
                },
                remove: function (item) {
                    this.itemList = this.itemList.filter(function (elm) {
                        return elm.id !== item.id;
                    });
                },
                onLoadFile: function (e, item) {
                    var file = e.target.files[0];

                    const reader = new FileReader();
                    reader.addEventListener(""load"", function () {
                        item.FILENAME = file.name;
                        item.Base64 = reader.result; // convert file to base64 string
                    }, false);

                    if (file) {
                        reader.readAsDataURL(file);
                    }
                },
                hasValue: function (value) {
                    var res = true;
                    if (value) {
                        res = true;
                    } else {
                        res = false;
                    }
                    return res;
                }
            },
            mounted: function () {
                this.getFileList();
            }
        });
        vm.$mount('#_erratafileupload');
    </script>
");


#line 178 "..\..\Views\Apply_005014\_ErrataFileUpload.cshtml"


#line default
#line hidden
});

#line 178 "..\..\Views\Apply_005014\_ErrataFileUpload.cshtml"
}
#line default
#line hidden

        public ErrataFileUpload()
        {
        }
        public override void Execute()
        {
            
            #line 3 "..\..\Views\Apply_005014\_ErrataFileUpload.cshtml"
  
    ViewBag.Title = "_FileUpload";
    // 檔案上傳

            
            #line default
            #line hidden
WriteLiteral("\r\n\r\n");

            
            #line 8 "..\..\Views\Apply_005014\_ErrataFileUpload.cshtml"
Write(RenderFileList2());

            
            #line default
            #line hidden
WriteLiteral("\r\n\r\n");

WriteLiteral("\r\n");

        }
    }
}
#pragma warning restore 1591
