#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     這段程式碼是由工具產生的。
//     執行階段版本:4.0.30319.42000
//
//     對這個檔案所做的變更可能會造成錯誤的行為，而且如果重新產生程式碼，
//     變更將會遺失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ES.Views.Apply_005014
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Optimization;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    using ES.Helpers;
    using JQueryUIHelpers;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Views/Apply_005014/Index.cshtml")]
    public partial class Index : System.Web.Mvc.WebViewPage<ES.Models.ViewModels.Apply_005014ViewModel>
    {

#line 31 "..\..\Views\Apply_005014\Index.cshtml"
public System.Web.WebPages.HelperResult RenderReadonly()
{
#line default
#line hidden
return new System.Web.WebPages.HelperResult(__razor_helper_writer => {

#line 32 "..\..\Views\Apply_005014\Index.cshtml"
 


#line default
#line hidden
WriteLiteralTo(__razor_helper_writer, "    <fieldset disabled>\r\n");

WriteLiteralTo(__razor_helper_writer, "        ");


#line 34 "..\..\Views\Apply_005014\Index.cshtml"
WriteTo(__razor_helper_writer, RenderEdit());


#line default
#line hidden
WriteLiteralTo(__razor_helper_writer, "\r\n    </fieldset>\r\n");


#line 36 "..\..\Views\Apply_005014\Index.cshtml"


#line default
#line hidden
});

#line 36 "..\..\Views\Apply_005014\Index.cshtml"
}
#line default
#line hidden

#line 38 "..\..\Views\Apply_005014\Index.cshtml"
public System.Web.WebPages.HelperResult RenderEdit()
{
#line default
#line hidden
return new System.Web.WebPages.HelperResult(__razor_helper_writer => {

#line 39 "..\..\Views\Apply_005014\Index.cshtml"
 


#line default
#line hidden
WriteLiteralTo(__razor_helper_writer, "    <div");

WriteLiteralTo(__razor_helper_writer, " id=\"005014\"");

WriteLiteralTo(__razor_helper_writer, ">\r\n        <div");

WriteLiteralTo(__razor_helper_writer, " class=\"container\"");

WriteLiteralTo(__razor_helper_writer, " id=\"form-block\"");

WriteLiteralTo(__razor_helper_writer, ">\r\n            <div");

WriteLiteralTo(__razor_helper_writer, " class=\"col-sm-12\"");

WriteLiteralTo(__razor_helper_writer, ">\r\n                <div");

WriteLiteralTo(__razor_helper_writer, " class=\"breadlink\"");

WriteLiteralTo(__razor_helper_writer, "><i");

WriteLiteralTo(__razor_helper_writer, " class=\"fas fa-home\"");

WriteLiteralTo(__razor_helper_writer, "></i><a");

WriteAttributeTo(__razor_helper_writer, "href", Tuple.Create(" href=\"", 938), Tuple.Create("\"", 974)

#line 43 "..\..\Views\Apply_005014\Index.cshtml"
, Tuple.Create(Tuple.Create("", 945), Tuple.Create<System.Object, System.Int32>(Url.Action("Index", "Login")

#line default
#line hidden
, 945), false)
);

WriteLiteralTo(__razor_helper_writer, ">首頁</a> ／ <a");

WriteAttributeTo(__razor_helper_writer, "href", Tuple.Create(" href=\"", 987), Tuple.Create("\"", 1025)

#line 43 "..\..\Views\Apply_005014\Index.cshtml"
                                             , Tuple.Create(Tuple.Create("", 994), Tuple.Create<System.Object, System.Int32>(Url.Action("Index", "Service")

#line default
#line hidden
, 994), false)
);

WriteLiteralTo(__razor_helper_writer, ">申辦服務</a> ／ <a");

WriteLiteralTo(__razor_helper_writer, " href=\"#\"");

WriteLiteralTo(__razor_helper_writer, ">貨品進口專案申請</a></div>\r\n                <div");

WriteLiteralTo(__razor_helper_writer, " class=\"clearfix\"");

WriteLiteralTo(__razor_helper_writer, "></div>\r\n                <div");

WriteLiteralTo(__razor_helper_writer, " class=\"form-set\"");

WriteLiteralTo(__razor_helper_writer, ">\r\n                    ");

WriteLiteralTo(__razor_helper_writer, "\r\n");

WriteLiteralTo(__razor_helper_writer, "                    ");


#line 47 "..\..\Views\Apply_005014\Index.cshtml"
WriteTo(__razor_helper_writer, Html.Partial("_CaseStatusFlow"));


#line default
#line hidden
WriteLiteralTo(__razor_helper_writer, "\r\n\r\n");


#line 49 "..\..\Views\Apply_005014\Index.cshtml"
                    

#line default
#line hidden

#line 49 "..\..\Views\Apply_005014\Index.cshtml"
                     if (Model.Apply != null && Model.Apply.FLOW_CD == "2") // 通知補件
                    {


#line default
#line hidden
WriteLiteralTo(__razor_helper_writer, "                        <div");

WriteLiteralTo(__razor_helper_writer, " style=\"color:red\"");

WriteLiteralTo(__razor_helper_writer, ">粉紅色欄位為通知補件欄位，請確認!</div>\r\n");


#line 52 "..\..\Views\Apply_005014\Index.cshtml"
                    }


#line default
#line hidden
WriteLiteralTo(__razor_helper_writer, "\r\n                    <h1");

WriteLiteralTo(__razor_helper_writer, " class=\"form-title  title-bg-y\"");

WriteLiteralTo(__razor_helper_writer, ">申辦表件填寫</h1>\r\n\r\n");


#line 56 "..\..\Views\Apply_005014\Index.cshtml"
                    

#line default
#line hidden

#line 56 "..\..\Views\Apply_005014\Index.cshtml"
                     using (Html.BeginForm("ApplyPost", "Apply_005014", FormMethod.Post, new { id = "main_form", @class = "form-horizontal", enctype = "multipart/form-data" }))
                    {
                        

#line default
#line hidden

#line 58 "..\..\Views\Apply_005014\Index.cshtml"
WriteTo(__razor_helper_writer, Html.Partial("_CaseBase"));


#line default
#line hidden

#line 58 "..\..\Views\Apply_005014\Index.cshtml"
                                                  
                        

#line default
#line hidden

#line 59 "..\..\Views\Apply_005014\Index.cshtml"
WriteTo(__razor_helper_writer, Html.Partial("_ApplyItems"));


#line default
#line hidden

#line 59 "..\..\Views\Apply_005014\Index.cshtml"
                                                    
                        

#line default
#line hidden

#line 60 "..\..\Views\Apply_005014\Index.cshtml"
WriteTo(__razor_helper_writer, Html.Partial("_ApplyItems2"));


#line default
#line hidden

#line 60 "..\..\Views\Apply_005014\Index.cshtml"
                                                     

                        if (Model.IsErrata())
                        {
                            

#line default
#line hidden

#line 64 "..\..\Views\Apply_005014\Index.cshtml"
WriteTo(__razor_helper_writer, Html.Partial("_ErrataFileUpload"));


#line default
#line hidden

#line 64 "..\..\Views\Apply_005014\Index.cshtml"
                                                              
                        }
                        else
                        {
                            if (string.IsNullOrEmpty(Model.Apply.APP_ID))
                            {
                                

#line default
#line hidden

#line 70 "..\..\Views\Apply_005014\Index.cshtml"
  WriteTo(__razor_helper_writer, Html.Partial("_FileUpload"));


#line default
#line hidden

#line 70 "..\..\Views\Apply_005014\Index.cshtml"
                                                            
                            }
                            else
                            {
                                

#line default
#line hidden

#line 74 "..\..\Views\Apply_005014\Index.cshtml"
  WriteTo(__razor_helper_writer, Html.Partial("_FilePreview"));


#line default
#line hidden

#line 74 "..\..\Views\Apply_005014\Index.cshtml"
                                                             
                            }
                        }


#line default
#line hidden
WriteLiteralTo(__razor_helper_writer, "                        <div");

WriteLiteralTo(__razor_helper_writer, " class=\"form-group\"");

WriteLiteralTo(__razor_helper_writer, ">\r\n                            <label");

WriteLiteralTo(__razor_helper_writer, " class=\"step-label col-sm-2\"");

WriteLiteralTo(__razor_helper_writer, " for=\"\"");

WriteLiteralTo(__razor_helper_writer, ">聲明</label>\r\n                            <div");

WriteLiteralTo(__razor_helper_writer, " class=\"col-sm-10\"");

WriteLiteralTo(__razor_helper_writer, ">\r\n                                <input");

WriteLiteralTo(__razor_helper_writer, " type=\"checkbox\"");

WriteLiteralTo(__razor_helper_writer, " id=\"chkDeclare\"");

WriteLiteralTo(__razor_helper_writer, " class=\"form-normal\"");

WriteLiteralTo(__razor_helper_writer, " />1.本公司已確認線上所申請內容與實際申請貨品相符。\r\n                            </div>\r\n               " +
"         </div>\r\n");


#line 83 "..\..\Views\Apply_005014\Index.cshtml"
                    }


#line default
#line hidden
WriteLiteralTo(__razor_helper_writer, "                </div>\r\n                <div");

WriteLiteralTo(__razor_helper_writer, " class=\"btn-bar text-center\"");

WriteLiteralTo(__razor_helper_writer, ">\r\n                    <!--<button type=\"submit\" class=\"btn btn-save\">存檔並預覽</butt" +
"on>-->\r\n");


#line 87 "..\..\Views\Apply_005014\Index.cshtml"
                    

#line default
#line hidden

#line 87 "..\..\Views\Apply_005014\Index.cshtml"
                     if (Model.Apply.FLOW_CD == "2")
                    {


#line default
#line hidden
WriteLiteralTo(__razor_helper_writer, "                        <button");

WriteLiteralTo(__razor_helper_writer, " type=\"submit\"");

WriteLiteralTo(__razor_helper_writer, " class=\"btn btn-save\"");

WriteLiteralTo(__razor_helper_writer, " onclick=\"save()\"");

WriteLiteralTo(__razor_helper_writer, ">存檔</button>\r\n");

WriteLiteralTo(__razor_helper_writer, "                        <button");

WriteLiteralTo(__razor_helper_writer, " type=\"reset\"");

WriteLiteralTo(__razor_helper_writer, " class=\"btn btn-clear\"");

WriteLiteralTo(__razor_helper_writer, ">清除資料</button>\r\n");


#line 91 "..\..\Views\Apply_005014\Index.cshtml"
                    }
                    else
                    {


#line default
#line hidden
WriteLiteralTo(__razor_helper_writer, "                        <button");

WriteLiteralTo(__razor_helper_writer, " type=\"submit\"");

WriteLiteralTo(__razor_helper_writer, " class=\"btn btn-save\"");

WriteLiteralTo(__razor_helper_writer, " onclick=\"preview()\"");

WriteLiteralTo(__razor_helper_writer, ">存檔並預覽</button>\r\n");

WriteLiteralTo(__razor_helper_writer, "                        <button");

WriteLiteralTo(__razor_helper_writer, " type=\"reset\"");

WriteLiteralTo(__razor_helper_writer, " class=\"btn btn-clear\"");

WriteLiteralTo(__razor_helper_writer, ">清除資料</button>\r\n");


#line 96 "..\..\Views\Apply_005014\Index.cshtml"
                        

#line default
#line hidden

#line 98 "..\..\Views\Apply_005014\Index.cshtml"
                                                                                                                                  
                    }


#line default
#line hidden
WriteLiteralTo(__razor_helper_writer, "                </div>\r\n                <div>\r\n                </div>\r\n          " +
"  </div>\r\n        </div>\r\n\r\n        <div");

WriteLiteralTo(__razor_helper_writer, " id=\"preview-block\"");

WriteLiteralTo(__razor_helper_writer, "> ");

WriteLiteralTo(__razor_helper_writer, " </div>\r\n    </div>\r\n");


#line 108 "..\..\Views\Apply_005014\Index.cshtml"



#line default
#line hidden
WriteLiteralTo(__razor_helper_writer, @"    <script>
        function preview() {
            var chk = document.getElementById('chkDeclare');
            if (chk.checked) {
            } else {
                alert(""請勾選聲明!"");
                return false;
            }
            var applyitem = $('input[name=""applyitem""]:checked').val();
            $.ajax({
                url: '");


#line 119 "..\..\Views\Apply_005014\Index.cshtml"
WriteTo(__razor_helper_writer, Url.Action("ApplyPost", "Apply_005014", new { id = "Preview" }));


#line default
#line hidden
WriteLiteralTo(__razor_helper_writer, @"?applyitem='+applyitem,
                type: 'POST',
                cache: false,
                data: new FormData($('#main_form')[0]),
                processData: false,
                contentType: false
            }).done(function (res) {
                if (res && res.status) {
                    // 檢核通過
                    $('#preview-block').html(res.data);
                    $('#preview-block').css('display', 'block');
                    $('#form-block').css('display', 'none');
                } else {
                    // 檢核不通過
                    if (res && res.data) {
                        $('#005014 div.err-msg').remove();
                        var hasError = false;
                        res.data.forEach(function (item) {
                            if (item.msg) {
                                var text = $('<div class=""col-sm-12 err-msg"" style=""background-color:#ff99ab"">' + item.msg + '</div>');
                                $('#' + item.key).after(text);
                                hasError = true;
                            }
                        });
                        if (hasError) {
                            blockAlert(""欄位輸入檢核未通過，請按頁面上提示修正後再重新上傳!"", null, function () { });
                        }
                    }
                }
            });
        }

        function save() {
           
            blockUI();
            $.ajax({
                url: '");


#line 155 "..\..\Views\Apply_005014\Index.cshtml"
WriteTo(__razor_helper_writer, Url.Action("ApplyPost", "Apply_005014", new { id = "Save" }));


#line default
#line hidden
WriteLiteralTo(__razor_helper_writer, @"',
                type: 'POST',
                cache: false,
                data: new FormData($('#main_form')[0]),
                processData: false,
                contentType: false
            }).done(function (res) {
                if (res && res.status) {
                    // 檢核通過
                    window.location = '");


#line 164 "..\..\Views\Apply_005014\Index.cshtml"
         WriteTo(__razor_helper_writer, Url.Action("Apply", "Apply_005014", new { id = "Complete" }));


#line default
#line hidden
WriteLiteralTo(__razor_helper_writer, "\';\r\n                } else {\r\n                    // 檢核不通過\r\n                    i" +
"f (res && res.data) {\r\n                        $(\'#005014 div.err-msg\').remove()" +
";\r\n                        var hasError = false;\r\n                        res.da" +
"ta.forEach(function (item) {\r\n                            if (item.msg) {\r\n     " +
"                           var text = $(\'<div class=\"col-sm-12 err-msg\" style=\"b" +
"ackground-color:#ff99ab\">\' + item.msg + \'</div>\');\r\n                            " +
"    $(\'#\' + item.key).after(text);\r\n                                hasError = t" +
"rue;\r\n                            }\r\n                        });\r\n              " +
"          if (hasError) {\r\n                            blockAlert(\"欄位輸入檢核未通過，請按頁" +
"面上提示修正後再重新上傳!\", null, function () { });\r\n                        }\r\n            " +
"        }\r\n                }\r\n                unblockUI();\r\n\r\n            }).fai" +
"l(function () {\r\n                unblockUI();\r\n            });\r\n        }\r\n\r\n   " +
"     function cancel() {\r\n            $(\'#preview-block\').css(\'display\', \'none\')" +
";\r\n            $(\'#form-block\').css(\'display\', \'block\');\r\n        }\r\n\r\n        $" +
"(function () {\r\n            $(\'.decimal-only\').decimalOnly();\r\n        })\r\n\r\n   " +
"     // 申辦表件的”起運國家連動其他兩個“出口國”，申請人不用再重新選擇出口國的國家。\r\n        $(function () {\r\n      " +
"      $(\'select#Detail_TRANSFER_COUNTRY\').on(\'change\', function (e) {\r\n         " +
"       var val = $(e.target).val();\r\n                $(\'select#Detail_AFF1_EXPOR" +
"T_COUNTRY\').val(val);\r\n                $(\'select#Detail_AFF2_EXPORT_COUNTRY\').va" +
"l(val);\r\n            });\r\n        })\r\n\r\n        //套印申請書\r\n        function previe" +
"w_print() {\r\n        var data = getFormDataToObject($(\"form[id=main_form]\"));\r\n " +
"       $.fileDownload(\'");


#line 210 "..\..\Views\Apply_005014\Index.cshtml"
WriteTo(__razor_helper_writer, Url.Action("PreviewApplyForm1"));


#line default
#line hidden
WriteLiteralTo(__razor_helper_writer, @"', {
            httpMethod: 'post',
            data: data,
            prepareCallback: function (url) {

            }
        });
        }
        //套印一般切結書
        function preview_print2A() {
            var data = getFormDataToObject($(""form[id=main_form]""));
            $.fileDownload('");


#line 221 "..\..\Views\Apply_005014\Index.cshtml"
WriteTo(__razor_helper_writer, Url.Action("PreviewApplyForm2A"));


#line default
#line hidden
WriteLiteralTo(__razor_helper_writer, @"', {
                httpMethod: 'post',
                data: data,
                prepareCallback: function (url) {

                }
            });
        }
        //套印萃取物切結書
        function preview_print2B() {
            var data = getFormDataToObject($(""form[id=main_form]""));
            $.fileDownload('");


#line 232 "..\..\Views\Apply_005014\Index.cshtml"
WriteTo(__razor_helper_writer, Url.Action("PreviewApplyForm2B"));


#line default
#line hidden
WriteLiteralTo(__razor_helper_writer, "\', {\r\n                httpMethod: \'post\',\r\n                data: data,\r\n         " +
"       prepareCallback: function (url) {\r\n\r\n                }\r\n            });\r\n" +
"        }\r\n    </script>\r\n");


#line 241 "..\..\Views\Apply_005014\Index.cshtml"




#line default
#line hidden
});

#line 243 "..\..\Views\Apply_005014\Index.cshtml"
}
#line default
#line hidden

        public Index()
        {
        }
        public override void Execute()
        {
            
            #line 3 "..\..\Views\Apply_005014\Index.cshtml"
  
    Layout = "~/Views/Shared/_MainLayout.cshtml";
    ViewBag.Title = "Index";
    if (string.IsNullOrEmpty(Model.Apply.FLOW_CD))
    {
        Model.Apply.FLOW_CD = "0";
    }

            
            #line default
            #line hidden
WriteLiteral("\r\n\r\n");

            
            #line 12 "..\..\Views\Apply_005014\Index.cshtml"
Write(Scripts.Render("~/Scripts/vue.js"));

            
            #line default
            #line hidden
WriteLiteral("\r\n\r\n<style");

WriteLiteral(" type=\"text/css\"");

WriteLiteral(">\r\n    input[type=file] { padding-top: 2px; }\r\n    .errata-input input, .errata-i" +
"nput select, input[type=file].errata-input { background-color: pink; }\r\n</style>" +
"\r\n\r\n");

            
            #line 19 "..\..\Views\Apply_005014\Index.cshtml"
 switch(Model.Apply.FLOW_CD)
{
    case "0":
    case "2":
        
            
            #line default
            #line hidden
            
            #line 23 "..\..\Views\Apply_005014\Index.cshtml"
   Write(RenderEdit());

            
            #line default
            #line hidden
            
            #line 23 "..\..\Views\Apply_005014\Index.cshtml"
                     
        break;
    default:
        
            
            #line default
            #line hidden
            
            #line 26 "..\..\Views\Apply_005014\Index.cshtml"
   Write(RenderReadonly());

            
            #line default
            #line hidden
            
            #line 26 "..\..\Views\Apply_005014\Index.cshtml"
                         
        break;
}

            
            #line default
            #line hidden
WriteLiteral("\r\n\r\n");

WriteLiteral("\r\n");

WriteLiteral("\r\n");

        }
    }
}
#pragma warning restore 1591
