#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     這段程式碼是由工具產生的。
//     執行階段版本:4.0.30319.42000
//
//     對這個檔案所做的變更可能會造成錯誤的行為，而且如果重新產生程式碼，
//     變更將會遺失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ES.Views.Shared
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Optimization;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    using ES.Helpers;
    using JQueryUIHelpers;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Views/Shared/_DatePickerAC.cshtml")]
    public partial class DatePickerAC : System.Web.Mvc.WebViewPage<dynamic>
    {
        public DatePickerAC()
        {
        }
        public override void Execute()
        {
WriteLiteral("\r\n<script");

WriteLiteral(" type=\"text/javascript\"");

WriteAttribute("src", Tuple.Create(" src=\"", 32), Tuple.Create("\"", 91)
, Tuple.Create(Tuple.Create("", 38), Tuple.Create<System.Object, System.Int32>(Href("~/Scripts/datetimepickerAC/moment-with-locales.min.js")
, 38), false)
);

WriteLiteral("></script>\r\n<link");

WriteAttribute("href", Tuple.Create(" href=\"", 109), Tuple.Create("\"", 158)
, Tuple.Create(Tuple.Create("", 116), Tuple.Create<System.Object, System.Int32>(Href("~/Content/bootstrap-datetimepicker.min.css")
, 116), false)
);

WriteLiteral(" rel=\"stylesheet\"");

WriteLiteral(" type=\"text/css\"");

WriteLiteral(" />\r\n<script");

WriteLiteral(" type=\"text/javascript\"");

WriteAttribute("src", Tuple.Create(" src=\"", 227), Tuple.Create("\"", 287)
, Tuple.Create(Tuple.Create("", 233), Tuple.Create<System.Object, System.Int32>(Href("~/Scripts/datetimepickerAC/bootstrap-datetimepicker.js")
, 233), false)
);

WriteLiteral("></script>\r\n<script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(">\r\n\r\n    ");

WriteLiteral(@"
    $(document).ready(function () {
        $(""div.date1"").each(function () {
            initDatePicker1(this);
        });
    });

    function __dtpFindFunc1(funcName) {
        var ret = undefined;
        if (funcName && funcName.length > 0) {
            ret = window[funcName];
            if (typeof ret !== ""function"") ret = undefined;
        }
        return ret;
    }

    ");

WriteLiteral("\r\n    ");

WriteLiteral("\r\n    ");

WriteLiteral("\r\n    function initDatePicker1(target, callback) {\r\n        $(target).datetimepic" +
"ker({\r\n            locale: \'zh-tw\',\r\n            format: \'YYYY/MM/DD\',\r\n        " +
"    showClear: true,\r\n            showClose: true\r\n        }).on(\"dp.change\", fu" +
"nction (e) {\r\n            onDPChangeShowZHDate1(e, callback);\r\n        });\r\n\r\n  " +
"      onTextBoxBlur1(target, callback);\r\n\r\n        $(target).find(\'.open-datepic" +
"ker1\').on(\'click\', function(event) {\r\n            try {\r\n                event.p" +
"reventDefault();\r\n                $(target).data(\"DateTimePicker\").show();\r\n    " +
"        }\r\n            catch (ex) {\r\n                //blockAlert(\"[initDatePick" +
"er] \" + ex.message);\r\n            }\r\n            finally {\r\n                //20" +
"181012 加入若在頁面內有 dateTimePickerShowCallback() 方法時，就自動執行 dateTimePickerShowCallbac" +
"k 方法。\r\n                var func = __dtpFindFunc1(\"dateTimePickerShowCallback\");\r" +
"\n                if (func) func.call(window, this);\r\n            }\r\n        });\r" +
"\n    }\r\n\r\n    //20180927 增加數字靠右對齊方法\r\n    function _dpTWLpad1(text, length, padCh" +
"ar) {\r\n        if (text !== undefined && text != null) {\r\n            if (text.l" +
"ength >= length) {\r\n                return text;\r\n            }\r\n            els" +
"e {\r\n                // 民國轉西元\r\n                if (text.length < 4) {\r\n         " +
"           var t = parseInt(text, 10)\r\n                    text = (t + 1911).toS" +
"tring();\r\n                    return text;\r\n                }\r\n                v" +
"ar s = [], c = length - text.length;\r\n                while (c-- > 0) s.push(pad" +
"Char);\r\n                s.push(text);\r\n                return s.join(\"\");\r\n     " +
"       }\r\n        }\r\n        else return text;\r\n    }\r\n\r\n    ");

WriteLiteral(@"
    function onDPChangeShowZHDate1(e, callback) {
        //debug_trace(""onDPChangeShowZHDate: target="");
        //debug_trace(e.target);

        var disInput = $(e.target).find(""input[type=text]"").first();
        //debug_trace(""onDPChangeShowZHDate: display input="");
        //debug_trace(disInput);
        if (e.date) {
            var tmpYear = e.date.get('year'); 
            var year = 0;

            if (e.date.locale() == 'zh-tw') {
                if (tmpYear < 1911) {
                    year = tmpYear + 1911;
                } else {
                    //year = tmpYear - 1911;
                    year = tmpYear;
                }
                //20180927 將民國年補齊三位數
                year = _dpTWLpad1(year.toString(), 3, ""0"");
            } else {
                year = tmpYear;
            }

            var zhDate = year + ""/"" + e.date.format('MM/DD');
            //debug_trace(""onDPChangeShowZHDate: "" + e.date.format('YYYY/MM/DD') + ' -> ' + zhDate);
            disInput.val(zhDate);
            if (callback) {
                callback(e.date.format('YYYY/MM/DD'), zhDate);
            }
        } else {
            disInput.val('');
            if (callback) {
                callback('', '');
            }
        }
    }

    ");

WriteLiteral("\r\n    function onTextBoxBlur1(target, callback) {\r\n        var txtInput = $(targe" +
"t).find(\"input[type=text]\").first();\r\n        var hidInput = $(target).find(\"inp" +
"ut[type=hidden]\").first();\r\n\r\n        $(txtInput).on(\'blur\', function () {\r\n    " +
"        var dateText = $(txtInput).val();\r\n            // 狀況為20200101\r\n         " +
"   if (dateText.length == 8)\r\n            {\r\n                //防止出現99/02/01 等狀況，" +
"導致切字串錯誤\r\n                if (dateText.indexOf(\'/\') == -1) {\r\n                   " +
" dateText = dateText.substring(0, 4) + \"/\" + dateText.substring(4, 6) + \"/\" + da" +
"teText.substring(6, 8);\r\n                }\r\n            }\r\n            // 狀況為990" +
"101\r\n            else if (dateText.length == 7 ) {\r\n                dateText = d" +
"ateText.substring(0, 3) + \"/\" + dateText.substring(3, 5) + \"/\" + dateText.substr" +
"ing(5, 7);\r\n            }\r\n            // 狀況為1090101\r\n            else if (dateT" +
"ext.length == 6) {\r\n                dateText = dateText.substring(0, 2) + \"/\" + " +
"dateText.substring(2, 4) + \"/\" + dateText.substring(4, 6);            }\r\n\r\n     " +
"       var dateArr = dateText.split(\'\\/\');\r\n            if (dateText && dateText" +
".trim().length > 0) {\r\n                // 字串轉數字\r\n                dateArr[0] = pa" +
"rseInt(dateArr[0], 10);\r\n                //陣列內加入\'/\' 後轉字串 \r\n                dateT" +
"ext = dateArr.join(\"/\");\r\n\r\n                // 比對字串\r\n                var regex =" +
" /^[0-9][0-9][0-9][0-9]\\/[0-1][0-9]\\/[0-3][0-9]$/;\r\n                var regex1 =" +
" /^[0-1][0-9][0-9]\\/[0-1][0-9]\\/[0-3][0-9]$/;\r\n                var regex2 = /^[0" +
"-9][0-9]\\/[0-1][0-9]\\/[0-3][0-9]$/;\r\n\r\n                if (regex.test(dateText.t" +
"rim())) {\r\n                    var year = parseInt(dateArr[0], 10);\r\n           " +
"         if (!isNaN(year)) {\r\n                        //dateArr[0] = year + 1911" +
";\r\n                        dateArr[0] = year;\r\n                        hidVal = " +
"dateArr.join(\'/\');\r\n\r\n                        //20180927 將民國年補齊三位數\r\n            " +
"            dateArr = dateText.split(\'\\/\');\r\n                        dateArr[0] " +
"= _dpTWLpad(dateArr[0], 4, \"0\");\r\n                        dateText = dateArr.joi" +
"n(\"/\");\r\n\r\n                        $(hidInput).val(hidVal);\r\n                   " +
"     $(txtInput).val(dateText);\r\n\r\n                        if (callback) {\r\n    " +
"                        callback(hidVal, dateText);\r\n                        }\r\n" +
"                    }\r\n                } else if (regex1.test(dateText.trim())) " +
"{\r\n                    var year = parseInt(dateArr[0], 10);\r\n                   " +
" if (!isNaN(year)) {\r\n                        dateArr[0] = year + 1911;\r\n       " +
"                 //dateArr[0] = year;\r\n                        hidVal = dateArr." +
"join(\'/\');\r\n\r\n                        //20180927 將民國年補齊三位數\r\n                    " +
"    dateArr = dateText.split(\'\\/\');\r\n                        dateArr[0] = _dpTWL" +
"pad(dateArr[0], 4, \"0\");\r\n                        dateText = dateArr.join(\"/\");\r" +
"\n\r\n                        $(hidInput).val(hidVal);\r\n                        $(t" +
"xtInput).val(dateText);\r\n\r\n                        if (callback) {\r\n            " +
"                callback(hidVal, dateText);\r\n                        }\r\n        " +
"            }\r\n                }\r\n                else if (regex2.test(dateText." +
"trim())) {\r\n                    var year = parseInt(dateArr[0], 10);\r\n          " +
"          if (!isNaN(year)) {\r\n                        dateArr[0] = year + 1911;" +
"\r\n                        //dateArr[0] = year;\r\n                        hidVal =" +
" dateArr.join(\'/\');\r\n\r\n                        //20180927 將民國年補齊三位數\r\n           " +
"             dateArr = dateText.split(\'\\/\');\r\n                        dateArr[0]" +
" = _dpTWLpad(dateArr[0], 4, \"0\");\r\n                        dateText = dateArr.jo" +
"in(\"/\");\r\n\r\n                        $(hidInput).val(hidVal);\r\n                  " +
"      $(txtInput).val(dateText);\r\n\r\n                        if (callback) {\r\n   " +
"                         callback(hidVal, dateText);\r\n                        }\r" +
"\n                    }\r\n                }\r\n                else {\r\n             " +
"       blockAlert(\"日期格式不正確！（範例：20190101 或是 2019/01/01）\");\r\n                    $" +
"(txtInput).val(\'\');\r\n                    $(hidInput).val(\'\');\r\n                 " +
"   if (callback) {\r\n                        callback(\'\', \'\');\r\n                 " +
"   }\r\n                }\r\n            } else {\r\n                $(hidInput).val(\'" +
"\');\r\n                if (callback) {\r\n                    callback(\'\', \'\');\r\n   " +
"             }\r\n            }\r\n        });\r\n    }\r\n</script>\r\n\r\n");

        }
    }
}
#pragma warning restore 1591
