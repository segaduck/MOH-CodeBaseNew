#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     這段程式碼是由工具產生的。
//     執行階段版本:4.0.30319.42000
//
//     對這個檔案所做的變更可能會造成錯誤的行為，而且如果重新產生程式碼，
//     變更將會遺失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ES.Areas.BACKMIN.Views.Apply_005014
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Optimization;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    using ES.Helpers;
    
    #line 2 "..\..\Areas\BACKMIN\Views\Apply_005014\_History.cshtml"
    using ES.Models;
    
    #line default
    #line hidden
    using JQueryUIHelpers;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Areas/BACKMIN/Views/Apply_005014/_History.cshtml")]
    public partial class History : System.Web.Mvc.WebViewPage<ES.Areas.BACKMIN.Models.Apply_005014ViewModel>
    {
        public History()
        {
        }
        public override void Execute()
        {
WriteLiteral("\r\n");

            
            #line 4 "..\..\Areas\BACKMIN\Views\Apply_005014\_History.cshtml"
  
    ViewBag.Title = "_History";
    ShareCodeListModel options = new ShareCodeListModel();
    IList<SelectListItem> items = options.GetStatuMemoList;
    string flowText = null;
    var curFlow = items.Where(x => x.Value == Model.Apply.FLOW_CD).FirstOrDefault();
    if (curFlow != null)
    {
        flowText = curFlow.Text;
    }

            
            #line default
            #line hidden
WriteLiteral("\r\n\r\n<div");

WriteLiteral(" class=\"form-horizontal\"");

WriteLiteral(">\r\n    <div");

WriteLiteral(" class=\"form-blue\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" class=\"form-group\"");

WriteLiteral(">\r\n            <label");

WriteLiteral(" class=\"main-label col-sm-2\"");

WriteLiteral(" for=\"\"");

WriteLiteral(">案件進度</label>\r\n            <div");

WriteLiteral(" class=\"col-sm-4\"");

WriteLiteral(">\r\n                <input");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-normal\"");

WriteAttribute("value", Tuple.Create(" value=\"", 678), Tuple.Create("\"", 695)
            
            #line 21 "..\..\Areas\BACKMIN\Views\Apply_005014\_History.cshtml"
, Tuple.Create(Tuple.Create("", 686), Tuple.Create<System.Object, System.Int32>(flowText
            
            #line default
            #line hidden
, 686), false)
);

WriteLiteral(" readonly />\r\n            </div>\r\n        </div>\r\n        <div");

WriteLiteral(" class=\"form-group\"");

WriteLiteral(">\r\n            <label");

WriteLiteral(" class=\"main-label col-sm-2\"");

WriteLiteral(" for=\"\"");

WriteLiteral(">案件狀態修改</label>\r\n            <div");

WriteLiteral(" class=\"col-sm-4\"");

WriteLiteral(">\r\n");

WriteLiteral("                ");

            
            #line 27 "..\..\Areas\BACKMIN\Views\Apply_005014\_History.cshtml"
           Write(Html.DropDownListFor(m => m.Apply.FLOW_CD, options.GetStatuMemoList, new { @class = "form-normal" }));

            
            #line default
            #line hidden
WriteLiteral("\r\n            </div>\r\n        </div>\r\n        <div");

WriteLiteral(" class=\"form-group\"");

WriteLiteral(">\r\n            <label");

WriteLiteral(" class=\"main-label col-sm-2\"");

WriteLiteral(">公文文號</label>\r\n            <div");

WriteLiteral(" class=\"col-sm-3\"");

WriteLiteral(">\r\n                <input");

WriteLiteral(" type=\"text\"");

WriteLiteral(" class=\"form-control\"");

WriteLiteral(" id=\"Apply_MOHW_CASE_NO\"");

WriteLiteral(" name=\"Apply.MOHW_CASE_NO\"");

WriteLiteral(" readonly />\r\n            </div>\r\n            <button");

WriteLiteral(" class=\"btn btn-blue\"");

WriteLiteral(" id=\"btnGetMohwCaseNo\"");

WriteLiteral(" type=\"button\"");

WriteLiteral(" onclick=\"getMOHW_CASE_NO()\"");

WriteLiteral(">\r\n                收文整合\r\n            </button>\r\n            <button");

WriteLiteral(" class=\"btn btn-blue\"");

WriteLiteral(" id=\"btnGetMohwCaseNoS\"");

WriteLiteral(" type=\"button\"");

WriteLiteral(" onclick=\"getMOHW_TOKEN()\"");

WriteLiteral(">\r\n                文號查詢\r\n            </button>\r\n            <span");

WriteLiteral(" id=\"caseNoTip\"");

WriteLiteral(" style=\"color:red; display:none;\"");

WriteLiteral(">請輸入公文文號</span>\r\n        </div>\r\n        <div");

WriteLiteral(" class=\"form-group\"");

WriteLiteral(">\r\n            <label");

WriteLiteral(" class=\"main-label col-sm-2\"");

WriteLiteral(" for=\"\"");

WriteLiteral(">案件歷程記錄</label>\r\n            <div");

WriteLiteral(" class=\"col-sm-10\"");

WriteLiteral(">\r\n");

WriteLiteral("                ");

            
            #line 46 "..\..\Areas\BACKMIN\Views\Apply_005014\_History.cshtml"
           Write(Html.LogForTurbo(Model.Apply.APP_ID, "APPLY,APPLY_005014"));

            
            #line default
            #line hidden
WriteLiteral("\r\n            </div>\r\n        </div>\r\n        <div");

WriteLiteral(" class=\"form-group\"");

WriteLiteral(">\r\n            <label");

WriteLiteral(" class=\"main-label col-sm-2\"");

WriteLiteral(" for=\"\"");

WriteLiteral(">補件歷程記錄</label>\r\n            <div");

WriteLiteral(" class=\"col-sm-10\"");

WriteLiteral(">\r\n                <table");

WriteLiteral(" class=\"table table-bordered\"");

WriteLiteral(@">
                    <thead>
                        <tr>
                            <th> 補正序號 </th>
                            <th> 日期 </th>
                            <th> 欄位名稱 </th>
                            <th> 補正(件)項目 </th>
                        </tr>
                    </thead>
                    <tbody>
");

            
            #line 62 "..\..\Areas\BACKMIN\Views\Apply_005014\_History.cshtml"
                        
            
            #line default
            #line hidden
            
            #line 62 "..\..\Areas\BACKMIN\Views\Apply_005014\_History.cshtml"
                         if (Model.AllNoticeList != null && Model.AllNoticeList.Count > 0)
                        {
                            for (int i = 0; i < Model.AllNoticeList.Count; i++)
                            {
                                var item = Model.AllNoticeList[i];
                                var first = Model.AllNoticeList.FirstOrDefault(x => x.FREQUENCY.Value == item.FREQUENCY);
                                int count = Model.AllNoticeList.Count(x => x.FREQUENCY.Value == item.FREQUENCY);
                                bool isFirst = item.Field == first.Field;

            
            #line default
            #line hidden
WriteLiteral("                                <tr>\r\n                                    <td>");

            
            #line 71 "..\..\Areas\BACKMIN\Views\Apply_005014\_History.cshtml"
                                   Write(item.FREQUENCY);

            
            #line default
            #line hidden
WriteLiteral("</td>\r\n                                    <td> ");

            
            #line 72 "..\..\Areas\BACKMIN\Views\Apply_005014\_History.cshtml"
                                    Write(item.ADD_TIME.Value.ToString("yyyy/MM/dd"));

            
            #line default
            #line hidden
WriteLiteral("</td>\r\n\r\n                                    <td> ");

            
            #line 74 "..\..\Areas\BACKMIN\Views\Apply_005014\_History.cshtml"
                                    Write(item.Field_NAME);

            
            #line default
            #line hidden
WriteLiteral(" </td>\r\n                                    <td> ");

            
            #line 75 "..\..\Areas\BACKMIN\Views\Apply_005014\_History.cshtml"
                                    Write(item.NOTE);

            
            #line default
            #line hidden
WriteLiteral(" </td>\r\n                                </tr>\r\n");

            
            #line 77 "..\..\Areas\BACKMIN\Views\Apply_005014\_History.cshtml"
                            }
                        }
                        else
                        {

            
            #line default
            #line hidden
WriteLiteral("                            <tr>\r\n                                <td");

WriteLiteral(" colspan=\"4\"");

WriteLiteral(" class=\"text-center\"");

WriteLiteral("> 查無資料 </td>\r\n                            </tr>\r\n");

            
            #line 84 "..\..\Areas\BACKMIN\Views\Apply_005014\_History.cshtml"
                        }

            
            #line default
            #line hidden
WriteLiteral("                    </tbody>\r\n                </table>\r\n            </div>\r\n     " +
"   </div>\r\n    </div>\r\n</div>\r\n\r\n<script>\r\n    function getMOHW_CASE_NO() {\r\n   " +
"     var data = {\r\n            \"UNIT_CD\": \'7\',\r\n            \"APP_ID\": \'");

            
            #line 96 "..\..\Areas\BACKMIN\Views\Apply_005014\_History.cshtml"
                  Write(Model.Apply.APP_ID);

            
            #line default
            #line hidden
WriteLiteral(@"'
        };
        ajaxLoadMore('/AJAX/GetMOHW_CASE_NO_PostIncoming',
            data,
            function (retData) {
                if (retData.status) {
                    var mohwCaseNo = retData.message;
                    if (mohwCaseNo) {
                        $('#Apply_MOHW_CASE_NO').val(""success"");
                        blockAlert(retData.message, ""提示訊息"");
                    }
                } else {
                    blockAlert(retData.message, ""提示訊息"");
                }
            });
    }
    function getMOHW_TOKEN() {
        var data = {
            ""APP_ID"": '");

            
            #line 114 "..\..\Areas\BACKMIN\Views\Apply_005014\_History.cshtml"
                  Write(Model.Apply.APP_ID);

            
            #line default
            #line hidden
WriteLiteral(@"'
        };
        ajaxLoadMore('/AJAX/GetMOHW_Token',
            data,
            function (retData) {
                if (retData.status) {
                    var mohwCaseNo = retData.message;
                    if (mohwCaseNo) {
                        $('#Apply_MOHW_CASE_NO').val(mohwCaseNo);
                    }
                } else {
                    blockAlert(retData.message, ""提示訊息"");
                }
            });
    }

    function syncStatus(val) {
        if (val == '0' || val == '20') {
            $('span#caseNoTip').show();
        } else {
            $('span#caseNoTip').hide();
        }
    }

    $(function () {
        $('select#Apply_FLOW_CD').on('change', function (e) {
            var val = e.target.value;
            syncStatus(val);
        });

        var flowcd = '");

            
            #line 144 "..\..\Areas\BACKMIN\Views\Apply_005014\_History.cshtml"
                 Write(Model.Apply.FLOW_CD);

            
            #line default
            #line hidden
WriteLiteral("\';\r\n        syncStatus(flowcd);\r\n    })\r\n</script>\r\n");

        }
    }
}
#pragma warning restore 1591
