#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     這段程式碼是由工具產生的。
//     執行階段版本:4.0.30319.42000
//
//     對這個檔案所做的變更可能會造成錯誤的行為，而且如果重新產生程式碼，
//     變更將會遺失。
// </auto-generated>
//------------------------------------------------------------------------------

namespace ES.Areas.BACKMIN.Views.ServiceHelp
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Optimization;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    using ES.Helpers;
    using JQueryUIHelpers;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Areas/BACKMIN/Views/ServiceHelp/Index.cshtml")]
    public partial class Index : System.Web.Mvc.WebViewPage<dynamic>
    {
        public Index()
        {
        }
        public override void Execute()
        {
            
            #line 1 "..\..\Areas\BACKMIN\Views\ServiceHelp\Index.cshtml"
  
    Layout = "~/Areas/BACKMIN/Views/Shared/_Layout.cshtml";

    ViewBag.Title = "操作輔助說明管理";
    ViewBag.FunctionTitle = "操作輔助說明管理";
    ViewBag.Script = @"
var categoryMenu = {
    async: {
        enable: true,
        url: """ + Url.Action("GetCategory") + @""",
        autoParam:[""id""],
        dataFilter: categoryFilter
    },
    callback: {
        onAsyncSuccess: categoryTreeOnAsyncSuccess
    }
};

function categoryFilter(treeId, parentNode, childNodes) {
    if (!childNodes) return null;
    for (var i=0, l=childNodes.length; i<l; i++) {
        childNodes[i].name = childNodes[i].name.replace(/\.n/g, '.');
        childNodes[i].click = 'doServiceList('+childNodes[i].id+')';
    }
    return childNodes;
}

var firstCategoryAsyncSuccessFlag = true;
function categoryTreeOnAsyncSuccess(event, treeId, treeNode) {
    if(firstCategoryAsyncSuccessFlag) {
        try {
            var zTree = $.fn.zTree.getZTreeObj(treeId);
            var nodes = zTree.getNodes();
            var id = " + ViewBag.ExpandId + @";
            var listId = " + ViewBag.ListId + @";

            if ( listId != 0 ) doServiceList(listId);

            if ( id == 0 || !nodes) return null;

            for(var i=0; i<nodes.length; i++) {
                if(nodes[i].id == id) {
                    zTree.expandNode(nodes[i], true);
                    break;
                }
            }

            firstAsyncSuccessFlag = false;
        } catch (ex) {}
    }
}

function doServiceList(id) {
    var url = '" + Url.Action("ServiceList") + @"/' + id + ' #detail1';
    $('#detail').empty().load(url, function(data) {
        if($('#detail').text().length == 0) {
            jAlert('您的登入已逾時');
        }
    });
    $('#list').empty();
}

$(function () {
    $.fn.zTree.init($(""#categoryTree""), categoryMenu);
});
";

            
            #line default
            #line hidden
WriteLiteral("\r\n<div");

WriteLiteral(" class=\"bread\"");

WriteLiteral(">\r\n    <i");

WriteLiteral(" class=\"fas fa-home\"");

WriteLiteral("></i>首頁 / 案件設定 / ");

            
            #line 69 "..\..\Areas\BACKMIN\Views\ServiceHelp\Index.cshtml"
                                      Write(ViewBag.FunctionTitle);

            
            #line default
            #line hidden
WriteLiteral("\r\n</div>\r\n<div");

WriteLiteral(" class=\"col-sm-12 content\"");

WriteLiteral(">\r\n    <h1");

WriteLiteral(" class=\"main-title\"");

WriteLiteral("><i");

WriteLiteral(" class=\"fas fa-edit\"");

WriteLiteral("></i>");

            
            #line 72 "..\..\Areas\BACKMIN\Views\ServiceHelp\Index.cshtml"
                                                 Write(ViewBag.FunctionTitle);

            
            #line default
            #line hidden
WriteLiteral("</h1>\r\n    <div");

WriteLiteral(" class=\"form-blue form-horizontal\"");

WriteLiteral(">\r\n        <div");

WriteLiteral(" style=\"float: left; width: 20%;\"");

WriteLiteral(">\r\n            <ul");

WriteLiteral(" id=\"categoryTree\"");

WriteLiteral(" class=\"ztree\"");

WriteLiteral("></ul>\r\n        </div>\r\n        <div");

WriteLiteral(" style=\"float: left; width: 80%;\"");

WriteLiteral(">\r\n            <div");

WriteLiteral(" id=\"detail\"");

WriteLiteral("></div>\r\n        </div>\r\n    </div>\r\n</div>");

        }
    }
}
#pragma warning restore 1591
